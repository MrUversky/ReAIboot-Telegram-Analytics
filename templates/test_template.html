
<!DOCTYPE html>
<html>
<head>
    <title>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: {{ template_name }}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .form-group { margin: 15px 0; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        textarea { width: 100%; min-height: 100px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        input[type="text"], input[type="number"] { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .btn { background: #007cba; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin: 5px; }
        .btn:hover { background: #005a87; }
        .btn-secondary { background: #6c757d; }
        .result { margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px; }
        .error { background: #f8d7da; }
    </style>
    <script>
        async function runTest() {
            const form = document.getElementById('testForm');
            const formData = new FormData(form);

            const response = await fetch('/test/{{ template_name }}/run', {
                method: 'POST',
                body: formData
            });

            const result = await response.json();
            const resultDiv = document.getElementById('result');

            if (result.success) {
                resultDiv.innerHTML = `
                    <h3>‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:</h3>
                    <h4>System Prompt:</h4>
                    <pre>${result.rendered.system_prompt}</pre>
                    <h4>User Prompt:</h4>
                    <pre>${result.rendered.user_prompt}</pre>
                    <h4>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:</h4>
                    <pre>${JSON.stringify(result.variables, null, 2)}</pre>
                `;
            } else {
                resultDiv.innerHTML = `<h3 class="error">‚ùå –û—à–∏–±–∫–∞: ${result.error}</h3>`;
            }
            resultDiv.classList.remove('error');
        }
    </script>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞: {{ template_name }}</h1>
    <a href="/" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</a>
    <a href="/template/{{ template_name }}" class="btn btn-secondary">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>

    <form id="testForm">
        <h3>üìù –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∞:</h3>

        <div class="form-group">
            <label>–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞:</label>
            <textarea name="post_text" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è">ü§ñ –ù–µ–π—Ä–æ—Å–µ—Ç–∏ –≤ –±–∏–∑–Ω–µ—Å–µ: +300% —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ 30 –¥–Ω–µ–π

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ 50 –∑–∞—è–≤–æ–∫ –≤ —á–∞—Å –≤–º–µ—Å—Ç–æ 5!
–ò–ò –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å —ç—Ç–æ 24/7 –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–æ–≤ –∏ –æ—à–∏–±–æ–∫.

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤:
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω—ã -70%
‚úÖ –†–æ—Å—Ç –ø—Ä–æ–¥–∞–∂ +150%
‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –±—é–¥–∂–µ—Ç–∞ -40%

–ö—Ç–æ —É–∂–µ –≤–Ω–µ–¥—Ä–∏–ª –ò–ò –≤ —Å–≤–æ–π –±–∏–∑–Ω–µ—Å? #AI #–±–∏–∑–Ω–µ—Å #–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</textarea>
        </div>

        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
            <div class="form-group">
                <label>–ü—Ä–æ—Å–º–æ—Ç—Ä—ã:</label>
                <input type="number" name="views" value="6500">
            </div>
            <div class="form-group">
                <label>–†–µ–∞–∫—Ü–∏–∏:</label>
                <input type="number" name="reactions" value="98">
            </div>
            <div class="form-group">
                <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:</label>
                <input type="number" name="replies" value="15">
            </div>
            <div class="form-group">
                <label>–†–µ–ø–æ—Å—Ç—ã:</label>
                <input type="number" name="forwards" value="42">
            </div>
        </div>

        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
            <div class="form-group">
                <label>–†—É–±—Ä–∏–∫–∞:</label>
                <input type="text" name="rubric_name" value="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã / –†–µ—Å—É—Ä—Å—ã">
            </div>
            <div class="form-group">
                <label>–§–æ—Ä–º–∞—Ç:</label>
                <input type="text" name="format_name" value="–ü–æ—è—Å–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏">
            </div>
            <div class="form-group">
                <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å–µ–∫):</label>
                <input type="number" name="duration" value="30">
            </div>
        </div>

        <div class="form-group">
            <label>–ê–Ω–∞–ª–∏–∑ —É—Å–ø–µ—Ö–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
            <textarea name="analysis" placeholder="–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–∏—á–∏–Ω —É—Å–ø–µ—Ö–∞ –ø–æ—Å—Ç–∞"></textarea>
        </div>

        <button type="button" onclick="runTest()" class="btn">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
    </form>

    <div id="result" class="result" style="display: none;"></div>

    <script>
        document.getElementById('result').style.display = 'block';
    </script>
</body>
</html>
