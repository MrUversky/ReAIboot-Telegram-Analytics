# Навигация с боковым меню

## Обзор

В системе ReAIboot реализована вертикальная навигация с боковым меню, которая адаптируется под разные размеры экранов и предоставляет возможность сворачивания/разворачивания.

## Компоненты

### SidebarNavigation

Основной компонент вертикальной навигации, расположенный слева.

**Файл:** `src/components/SidebarNavigation.tsx`

**Особенности:**
- Вертикальное расположение элементов
- Возможность сворачивания до иконок или полного отображения
- Адаптивность для мобильных устройств с overlay
- Сохранение состояния в localStorage

### LayoutClient

Клиентский компонент для управления состоянием layout.

**Файл:** `src/components/LayoutClient.tsx`

**Функции:**
- Управление состоянием мобильного меню
- Flexbox структура с sidebar и основным контентом

## Адаптивность

### Desktop (> md)
- Полноценное вертикальное меню шириной 256px (развернутое) или 64px (свернутое)
- Кнопка сворачивания/разворачивания в заголовке
- Состояние сохраняется в localStorage

### Mobile (< md)
- Overlay меню поверх контента
- Кнопка-гамбургер в левом верхнем углу
- Полноценное меню с текстом и иконками

## Функциональность

### Фильтрация навигации
Меню автоматически фильтруется в зависимости от прав доступа пользователя:
- Wiki доступна всегда
- Админ-панель только для администраторов
- Парсинг только для пользователей с соответствующими правами

### Состояние пользователя
- Отображение email пользователя
- Кнопка выхода
- Dropdown меню для десктопа

## Стилизация

### Цветовая схема
- Белый фон sidebar (`bg-white`)
- Синие акценты для активных элементов (`bg-blue-100 text-blue-700`)
- Серые цвета для неактивных элементов

### Анимации
- Плавное сворачивание/разворачивание (300ms)
- Hover эффекты на элементах
- Loading состояния с skeleton

## Структура меню

```
├── Заголовок (ReAIboot логотип)
├── ├── Кнопка сворачивания
├── Навигация
│   ├── Аналитика (/)
│   ├── Посты (/posts)
│   ├── Сценарии (/scenarios)
│   ├── Парсинг (/parsing)
│   ├── Wiki (/wiki)
│   ├── Статистика (/stats)
│   └── Админ (/admin)
└── Пользовательское меню
    └── Выход
```

## Технические детали

### State management
- `isCollapsed`: состояние сворачивания (localStorage)
- `isMobileMenuOpen`: состояние мобильного меню
- `isUserMenuOpen`: состояние пользовательского dropdown

### Hooks
- `useState` для локального состояния
- `useEffect` для загрузки состояния из localStorage
- `useSupabase` для данных пользователя и прав

### Responsive breakpoints
- `md:hidden` - скрыть на мобильных
- `hidden md:flex` - показать только на десктопе

## API интеграция

Компонент использует:
- Supabase для аутентификации и прав доступа
- Next.js routing для навигации
- LocalStorage для сохранения предпочтений пользователя

## Производительность

- Lazy loading компонентов
- Оптимизированные re-renders
- Минимальные зависимости
- Кеширование состояния в localStorage

---

*Вертикальная навигация обеспечивает современный UX с полной адаптивностью и сохранением пользовательских предпочтений.*

