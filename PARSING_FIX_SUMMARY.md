# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú –° –ü–ê–†–°–ò–ù–ì–û–ú - –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

## üìä –°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´

### ‚úÖ –†–ê–ë–û–¢–ê–Æ–©–ò–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´:
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ OK, Viral Detection —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ **Telegram —Å–µ—Å—Å–∏—è**: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞, API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥**: –£—Å–ø–µ—à–Ω–æ –ø–∞—Ä—Å–∏—Ç –ø–æ—Å—Ç—ã (5 –ø–æ—Å—Ç–æ–≤ –∏–∑ @telegram –∑–∞ 34 —Å–µ–∫)
- ‚úÖ **Viral Detection**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

### ‚ùå –ü–†–û–ë–õ–ï–ú–´ –î–õ–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:
- ‚ùå **–°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü—ã posts**: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–æ–Ω–∫–∞ `channel_id`
- ‚ùå **API —Å–µ—Ä–≤–µ—Ä**: –í–æ–∑–º–æ–∂–Ω–æ –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

## üîß –†–ï–®–ï–ù–ò–Ø –ü–†–û–ë–õ–ï–ú

### 1. –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –°–•–ï–ú–´ POSTS

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Supabase SQL Editor (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ Supabase SQL Editor:
ALTER TABLE public.posts ADD COLUMN IF NOT EXISTS channel_id BIGINT;
CREATE INDEX IF NOT EXISTS idx_posts_channel_id ON public.posts(channel_id);
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª**
- –û—Ç–∫—Ä–æ–π—Ç–µ `fix_posts_schema.sql`
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ Supabase SQL Editor
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```bash
python quick_fix_posts.py
```

### 2. –ó–ê–ü–£–°–ö API –°–ï–†–í–ï–†–ê

```bash
# –í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
source venv_py39/bin/activate
python run_api.py

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
curl http://localhost:8000/health
```

## üß™ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –£–°–ü–ï–®–ù–´–ï –¢–ï–°–¢–´:
```
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç (260 –ø–æ—Å—Ç–æ–≤)
‚úÖ Telegram —Å–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞
‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –ø–æ—Å—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (5/5 –ø–æ—Å—Ç–æ–≤)
‚úÖ Viral Detection –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã
‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –∫–æ–ª–æ–Ω–∫–∏ –¥–ª—è Viral Detection —Å–æ–∑–¥–∞–Ω—ã
```

### –ù–ï–£–î–ê–ß–ù–´–ï –¢–ï–°–¢–´:
```
‚ùå –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î (–Ω—É–∂–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ channel_id)
‚ùå API —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
```

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –ù–ï–ú–ï–î–õ–ï–ù–ù–û:
1. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ —Å—Ö–µ–º—É posts** (–¥–æ–±–∞–≤—å—Ç–µ `channel_id`)
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä**
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—ã–π pipeline**

### –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:
1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∞—Å—Å–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥:**
   ```bash
   python src/main.py --channels-file channels.txt --top-overall 50
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Viral Detection:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É: http://localhost:3000/admin
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Viral Detection"
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ API:**
   ```bash
   curl http://localhost:8000/api/posts?limit=10
   curl http://localhost:8000/api/settings
   ```

## üìÅ –°–û–ó–î–ê–ù–ù–´–ï –§–ê–ô–õ–´ –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

- `test_database_status.py` - —Ç–µ—Å—Ç –ë–î
- `test_telegram_parsing.py` - —Ç–µ—Å—Ç Telegram
- `test_full_system.py` - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç
- `run_all_tests.py` - –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
- `quick_telegram_test.py` - –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç Telegram
- `quick_fix_posts.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã posts
- `fix_posts_schema.sql` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã
- `fix_schema_via_api.py` - API –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üéØ –ò–¢–û–ì

**–ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç!** –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–ª–æ–Ω–∫–∏ `channel_id` –≤ —Ç–∞–±–ª–∏—Ü–µ posts. –ü–æ—Å–ª–µ –µ—ë –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π.

**Viral Detection –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤** - –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã.

---

## üìû –ë–´–°–¢–†–ê–Ø –ü–†–û–í–ï–†–ö–ê –ì–û–¢–û–í–ù–û–°–¢–ò

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ö–µ–º—É
python quick_fix_posts.py

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
python run_all_tests.py

# 3. –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã
python test_full_system.py
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã –∑–∞–ø—É—Å—Ç–∏—Ç–µ `./start_project.sh` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã! üöÄ**
